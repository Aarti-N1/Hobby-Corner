<% 
var errorMap = (typeof errorMap == 'undefined') ? new Map() : errorMap; 
var userInvalidClass = (typeof errorMap != 'undefined' && errorMap.has('userName'))?'err':'';
var passwordInvalidClass = (typeof errorMap != 'undefined' && errorMap.has('password'))?'err':'';
%>
<!DOCTYPE html>

<html>
	<head>
		<title>Hobby Corner Login Page</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="./../resources/css/bootstrap.min.css">
		<link rel="stylesheet" href="./../resources/css/common.css">
		<link rel="stylesheet" href="./../resources/css/connection.css">
	</head>
	<body>
		<script src="./../resources/scripts/lib/jquery-3.4.1.min.js" ></script>
    	<script src="./../resources/scripts/lib/popper.min.js"></script>
    	<script src="./../resources/scripts/lib/bootstrap.min.js" ></script>
    	<script src="./../resources/scripts/lib/jquery-ui.min.js" ></script>
       	

		<div class="page-container">
    		<div class="content-wrapper">
				<% include ./partials/header.ejs %>
    			<% include ./partials/navigation.ejs %>
				<div class="main-container">
					<div class="container">
						<form id="login-form" method="POST" action="/login" class="needs-validation" novalidate>
							<% if(typeof errorMsg != 'undefined'){%>
								<div class="alert alert-danger">
									<%= errorMsg%>
								</div>
							<% } %>
							<% if(typeof successMsg != 'undefined'){%>
								<div class="alert alert-success" role="alert">
  									<%= successMsg%>
								</div>
							<% } %>
							<div class="form-group row">
								<label for="userName" class="col-sm-4 col-form-label text-center">User Name/ Email address</label>
								<div class="col-sm-8">
									<input type="text" class="form-control <%=userInvalidClass%>" id="userName" name="userName" placeholder="UserName" >		
									<div class="inputValidationError">
										<%= errorMap.get('userName')%>
									</div>
								</div>
							</div>
							<div class="form-group row">
								<label for="password" class="col-sm-4 col-form-label text-center">Password</label>
								<div class="col-sm-8">
									<input type="password" class="form-control <%=passwordInvalidClass%>" id="password" name="password" placeholder="Password" >				
									<div class="inputValidationError">
										<%= errorMap.get('password')%>
									</div>
								</div>
							</div>
							<div class="text-center">
								<button type="submit" class="btn btn-primary shadow">Login</button>							
							</div>
						</form>

					</div>
				</div>
				<% include ./partials/footer.ejs %>
			</div>
		</div>
	</body>
</html>