<% 
var errorMap = (typeof errorMap == 'undefined') ? new Map() : errorMap; 
var userInvalidClass = (typeof errorMap != 'undefined' && errorMap.has('userName'))?'err':'';
var passwordInvalidClass = (typeof errorMap != 'undefined' && errorMap.has('password'))?'err':'';
var firstNameInvalidClass = (typeof errorMap != 'undefined' && errorMap.has('firstName'))?'err':'';
var lastNameInvalidClass = (typeof errorMap != 'undefined' && errorMap.has('lastName'))?'err':'';
var addressInvalidClass = (typeof errorMap != 'undefined' && errorMap.has('address'))?'err':'';
var address2InvalidClass = (typeof errorMap != 'undefined' && errorMap.has('address2'))?'err':'';
var cityInvalidClass = (typeof errorMap != 'undefined' && errorMap.has('city'))?'err':'';
var stateInvalidClass = (typeof errorMap != 'undefined' && errorMap.has('state'))?'err':'';
var zipInvalidClass = (typeof errorMap != 'undefined' && errorMap.has('zip'))?'err':'';
var countryInvalidClass = (typeof errorMap != 'undefined' && errorMap.has('country'))?'err':'';
%>
<!DOCTYPE html>

<html>
	<head>
		<title>Hobby Corner User Registration Page</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="./../resources/css/bootstrap.min.css">
		<link rel="stylesheet" href="./../resources/css/common.css">
	</head>
	<body>
		<script src="./../resources/scripts/lib/jquery-3.4.1.min.js" ></script>
    	<script src="./../resources/scripts/lib/popper.min.js"></script>
    	<script src="./../resources/scripts/lib/bootstrap.min.js" ></script>
    	<script src="./../resources/scripts/lib/jquery-ui.min.js" ></script>
       	

		<div class="page-container">
    		<div class="content-wrapper">
				<% include ./partials/header.ejs %>
    			<% include ./partials/navigation.ejs %>
				<div class="main-container">
					<div class="container">
						<form id="userRegistration-form" method="POST" action="/userRegistration" class="needs-validation" novalidate>
							<% if(typeof errorMsg != 'undefined'){%>
								<div class="alert alert-danger">
									<%= errorMsg%>
								</div>
							<% } %>
							<div class="form-group row">
								<label for="userName" class="col-sm-2 col-form-label">User Name/ Email address</label>
								<div class="col-sm-10">
									<input type="text" class="form-control <%=userInvalidClass%>" id="userName" name="userName" placeholder="UserName" >		
									<div class="inputValidationError">
										<%= errorMap.get('userName')%>
									</div>
								</div>
							</div>
							<div class="form-row">
								<div class="form-group col-md-6">
									<label for="password">Password</label>
									<input type="password" class="form-control <%=passwordInvalidClass%>" id="password" name="password" placeholder="Password" >				
									<div class="inputValidationError">
										<%= errorMap.get('password')%>
									</div>
								</div>
								<div class="form-group col-md-6">
									<label for="confirmPassword">Confirm Password</label>
									<input type="password" class="form-control <%=passwordInvalidClass%>" id="confirmPassword" name="confirmPassword" placeholder="Confirm Password" >	
									<div class="inputValidationError">
										<%= errorMap.get('confirmPassword')%>
									</div>
								</div>
							</div>
							<div class="form-row">
								<div class="form-group col-md-6">
									<label for="firstName">First Name</label>
									<input  type="text" class="form-control <%=firstNameInvalidClass%>" id="firstName" name="firstName" placeholder="First Name" >				
									<div class="inputValidationError">
										<%= errorMap.get('firstName')%>
									</div>
								</div>
								<div class="form-group col-md-6">
									<label for="lastName">Last Name</label>
									<input type="lastName" class="form-control <%=lastNameInvalidClass%>" id="lastName" name="lastName" placeholder="Last Name" >				
									<div class="inputValidationError">
										<%= errorMap.get('lastName')%>
									</div>
								</div>
							</div>
							<div class="form-group">
								<label for="address">Address</label>
								<input type="text" class="form-control <%=addressInvalidClass%>" id="address" name="address" placeholder="1234 Main St">
								<div class="inputValidationError">
									<%= errorMap.get('address')%>
								</div>
							</div>
							<div class="form-group">
								<label for="address2">Address 2</label>
							 	<input type="text" class="form-control  <%=address2InvalidClass%>" id="address2" name="address2">
							 	<div class="inputValidationError">
									<%= errorMap.get('address2')%>
								</div>
							</div>
							<div class="form-row">
								<div class="form-group col-md-6">
							    	<label for="city">City</label>
							    	<input type="text" class="form-control <%=cityInvalidClass%>" id="city" name="city">
							    	<div class="inputValidationError">
										<%= errorMap.get('city')%>
									</div>
							    </div>
							    <div class="form-group col-md-4">
							    	<label for="state">State</label>
							    	<input type="text" id="state" name="state" class="form-control <%=stateInvalidClass%>">
							    	<div class="inputValidationError">
										<%= errorMap.get('state')%>
									</div>
							    </div>
							    <div class="form-group col-md-2">
							    	<label for="zip">Zip</label>
							    	<input type="text" class="form-control <%=zipInvalidClass%>" id="zip" name="zip">
							    	<div class="inputValidationError">
										<%= errorMap.get('zip')%>
									</div>
							    </div>
							</div>
							<div class="form-row">
								<div class="form-group col-md-6">
							    	<label for="country">Country</label>
							    	<input type="text" class="form-control <%=countryInvalidClass%>" id="country" name="country">
							    	<div class="inputValidationError">
										<%= errorMap.get('country')%>
									</div>
								</div>
							</div>
							<div class="text-center">
								<button type="submit" class="btn btn-primary shadow">Register</button>							
							</div>
						</form>
					</div>
				</div>
				<% include ./partials/footer.ejs %>
			</div>
		</div>
	</body>
</html>